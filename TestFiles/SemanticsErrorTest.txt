BEGIN MASTER

    Initiate
    {
        // Gøres til globale variable af compileren/preprocessor,
        // så vi ikke har tonsvis af dem.

        pin button1 = createPin(digital, input, 4);
        pin button2 = createPin(analog, input, 5);
    }

    Listener (button1)
    {
        //int b;
        //b = b;

        int filteredInput = filterNoise(button1, flip);

        int b = getValue(button1);

        if (filteredInput == HIGH)
        {
            event button1Pressed = createEvent(filteredInput);
            broadcast(button1Pressed);
        }
        else {
            event button2Pressed = createEvent(filteredInput);
            broadcast(button2Pressed);
        }

        event test = createEvent(2);
        if (true){
            broadcast(test);
        }

    }

    Listener (button2)
    {
        int filteredInput = filterNoise(button2, range);

        if (filteredInput == HIGH)
        {
            event button3Pressed = createEvent(0.2);
            float value = getValue(button3Pressed);
            broadcast(button3Pressed);
        }
        else if (true){
            event button4Pressed = createEvent(filteredInput);
            broadcast(button4Pressed);
        }
        else {
            event button5Pressed = createEvent(filteredInput);
            broadcast(button5Pressed);
        }
    }

    Listener (button1)
    {
        int filteredInput = filterNoise(button1, range);

        event hat = createEvent(2);

        if (filteredInput == HIGH)
        {
            broadcast(hat);
        }
        else {
            broadcast(hat);
        }

    }

    Listener (button2)
        {
            int filteredInput = filterNoise(button2, range);

            int b;

            if (filteredInput == HIGH)
            {
                b = -2;
            }
            else {
                b = 4;
            }

            event kat = createEvent(b);
            broadcast(kat);
        }

END MASTER



BEGIN SLAVE : TestSlave1

    Initiate
    {
        pin light1 = createPin(digital, output, 4);
        pin light2 = createPin(pwm, output, 5);
        pin light3 = createPin(analog, output, 6);
    }

    EventHandler(button1Pressed)
    {
        int value = getValue(light1);

        int a = getValue(button1Pressed);

        if (value == HIGH)
        {
            write(light1, 2+3);
        }
        else if (value == LOW)
        {
            write(light1, HIGH);
        }
        else
        {
            int b = 4;
        }
    }

    EventHandler(button2Pressed)
    {
        write(light1, HIGH);
        write(light2, HIGH);
        write(light3, HIGH);
    }

    EventHandler(test)
        {
            int a = getValue(test);
        }

END SLAVE

/* This should
not
be
read */
